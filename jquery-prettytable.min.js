!function(a){"use strict";function b(b){if("string"!=typeof b)return b=e(b)?b:{},this.each(function(){a(this).data("prettyTable")||a(this).data("prettyTable",new i(this,b))});var d=this[0],f=a(d).data("prettyTable");if(!f)return"Not initialized.";if("instance"===b)return f;if(!/^\-.*/.test(b))try{return f[b].apply(f,c.call(arguments,1))}catch(g){}}var c=Array.prototype.slice,d=Object.prototype.toString,e=function(a){return!!a&&"object"==typeof a&&"[object Object]"===d.call(a)},f=function(a){return!!a&&"[object Function]"===d.call(a)},g=function(b,c){var d=c||"12px arial",e=a("<div>"+b+"</div>").css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden",font:d}).appendTo(a("body")),f=e.width();return e.remove(),f},h=String.prototype.trim?function(a){return a?a.trim():""}:function(a){return a?a.replace(/(^\s+)|(\s+$)/g,""):""},i=function(b,c){var d=(this.el=b,this.$el=a(b)),e=d.data("scroller")||!1;this.options=a.extend({scroller:e,fixedPadding:40,iconWidth:20,maxColumnWidth:function(a,b){var c=this.metaColumnWidth(a);return c?c:b},metaColumnWidth:function(b){return parseInt(a(b).data("width"))},setColumnWidth:function(b,c){a(b).css("width",c+"px")}},c),this.init()};i.prototype.init=function(){this._adjustColumnWidth()},i.prototype.refresh=function(){this._adjustColumnWidth()},i.prototype.lock=function(){this.options.scroller&&this.$el.closest(".prettytable-scroll-container").off("mousewheel.pt").on("mousewheel.pt",function(){return!1}).end().trigger("lock.pt")},i.prototype.unlock=function(){this.options.scroller&&this.$el.closest(".prettytable-scroll-container").off("mousewheel.pt").end().trigger("unlock.pt")},i.prototype._adjustColumnWidth=function(){var b=this.options,c=b.fixedPadding,d=b.iconWidth,e=!!b.scroller,i=this.$el,j=i.find("thead > tr:first"),k=i.parent(),l=k.outerWidth(),m=i.parent().css("overflow"),n=i.css("font"),o=i.find("thead > tr:first > th").size(),p=0;b.scroller&&"hidden"!=m&&k.css("overflow","hidden");for(var q=function(k){var l,m,o,q=i.find("tr td:nth-child("+(k+1)+")"),r="";q.each(function(b,c){var d=h(a(c).text());r=d.length>h(r).length?d:r}),o=j.find("th").eq(k),h(o.text()).length>r.length&&(r=h(o.text())),l=g(r,n)+c,o.find(".iconfont")[0]&&(l+=d),o.find(".filter:visible")[0]&&o.find(".table-cell").css("paddingLeft",d),o.find(".sorter:visible")[0]&&o.find(".table-cell").css("paddingRight",d),l=f(b.maxColumnWidth)?b.maxColumnWidth(o[0],l):l,m=f(b.metaColumnWidth)?b.metaColumnWidth(o[0]):!1,m?(m+=c,l=Math.min(l,m),e?o.css("width",l+"px"):o.css("max-width",l+"px"),p+=l):(b.setColumnWidth(o[0],l),p+=l)},r=0;o>r;r++)q(r);b.scroller&&_.delay(function(){var a;a=i.outerWidth(),a>l&&(i.css("width",a+"px"),i.toggleClass("table-scrollable",!0),i.parent().is(":not(.prettytable-scroll-container)")&&i.wrap('<div class="prettytable-scroll-container"></div>')),_.delay(function(){var b;a=i.outerWidth(),b=i.parent().width(),b>a&&i.css("width","100%")},20),k.css("overflow",m)},20)};var j=a.fn.prettyTable;a.fn.prettyTable=b,a.fn.prettyTable.Constructor=i,a.fn.prettyTable.noConflict=function(){return a.fn.prettyTable=j,this}}(jQuery);